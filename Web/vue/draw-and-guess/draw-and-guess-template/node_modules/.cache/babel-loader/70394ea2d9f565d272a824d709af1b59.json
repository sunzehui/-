{"remainingRequest":"C:\\myfile\\project\\draw-and-guess\\draw-and-guess-template\\node_modules\\babel-loader\\lib\\index.js!C:\\myfile\\project\\draw-and-guess\\draw-and-guess-template\\src\\store\\index.js","dependencies":[{"path":"C:\\myfile\\project\\draw-and-guess\\draw-and-guess-template\\src\\store\\index.js","mtime":1626337861776},{"path":"C:\\myfile\\project\\draw-and-guess\\draw-and-guess-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626304816456},{"path":"C:\\myfile\\project\\draw-and-guess\\draw-and-guess-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1626304816351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBzb2NrZXQgZnJvbSAnQC9zb2NrZXQvaW5kZXgnOwpWdWUudXNlKFZ1ZXgpOwp2YXIgc3RhdGUgPSB7CiAgY29ubmVjdGVkOiBmYWxzZSwKICBuaWNrTmFtZTogJycsCiAgYWxsUGxheWVyOiBbXSwKICBob2xkZXI6ICcnLAogIGxpbmVzOiBbXQp9Owp2YXIgbXV0YXRpb25zID0gewogIHVwZGF0ZU5pY2tuYW1lOiBmdW5jdGlvbiB1cGRhdGVOaWNrbmFtZShzdGF0ZSwgbmlja05hbWUpIHsKICAgIHN0YXRlLm5pY2tOYW1lID0gbmlja05hbWUgfHwgJyc7CiAgfSwKICB1cGRhdGVhbGxQbGF5ZXI6IGZ1bmN0aW9uIHVwZGF0ZWFsbFBsYXllcihzdGF0ZSwgcGxheWVycykgewogICAgc3RhdGUuYWxsUGxheWVyID0gcGxheWVycyB8fCBbXTsKICB9LAogIHVwZGF0ZUhvbGRlcjogZnVuY3Rpb24gdXBkYXRlSG9sZGVyKHN0YXRlLCBob2xkZXIpIHsKICAgIHN0YXRlLmhvbGRlciA9IGhvbGRlciB8fCAnJzsKICAgIGNvbnNvbGUubG9nKGhvbGRlcik7CiAgfSwKICB1cGRhdGVMaW5lczogZnVuY3Rpb24gdXBkYXRlTGluZXMoc3RhdGUsIGxpbmVzKSB7CiAgICBzdGF0ZS5saW5lcyA9IGxpbmVzIHx8IFtdOwogIH0sCiAgZGVhbFVzZXJFbnRlcjogZnVuY3Rpb24gZGVhbFVzZXJFbnRlcihzdGF0ZSwgbmlja05hbWUpIHsKICAgIHZhciBhbGxQbGF5ZXIgPSBzdGF0ZS5hbGxQbGF5ZXI7CiAgICBhbGxQbGF5ZXIuZXZlcnkoZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgcmV0dXJuIG5hbWUgIT09IG5pY2tOYW1lOwogICAgfSkgJiYgc3RhdGUuYWxsUGxheWVyLnB1c2gobmlja05hbWUpOyAvLyBhbGxQbGF5ZXIuaW5jbHVkZXMobmlja05hbWUpfHxzdGF0ZS5hbGxQbGF5ZXIucHVzaChuaWNrTmFtZSkKICB9LAogIHVwZGF0ZVNlcnZlclN0YXR1czogZnVuY3Rpb24gdXBkYXRlU2VydmVyU3RhdHVzKHN0YXRlLCBTZXJ2ZXJTdGF0dXMpIHsKICAgIHN0YXRlLmNvbm5lY3RlZCA9IFNlcnZlclN0YXR1czsKICB9LAogIGRyYXdOZXdMaW5lOiBmdW5jdGlvbiBkcmF3TmV3TGluZShzdGF0ZSwgbmV3bGluZSkgewogICAgc3RhdGUubGluZXMucHVzaChuZXdsaW5lKTsKICB9LAogIHVwZGF0ZUxhc3RMaW5lOiBmdW5jdGlvbiB1cGRhdGVMYXN0TGluZShzdGF0ZSwgbGFzdGxpbmUpIHsKICAgIHZhciBsYXN0X25vdyA9IHN0YXRlLmxpbmVzW3N0YXRlLmxpbmVzLmxlbmd0aCAtIDFdOwogICAgY29uc29sZS5sb2coc3RhdGUubGluZXMpOwogICAgbGFzdF9ub3cucG9pbnRzID0gbGFzdGxpbmUucG9pbnRzOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgY2hlY2tOYW1lRXhpc3Q6IGZ1bmN0aW9uIGNoZWNrTmFtZUV4aXN0KGNvbnRleHQsIG5pY2tOYW1lKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBzb2NrZXQuZW1pdCgiY2hlY2tfdXNlcl9leGlzdCIsIG5pY2tOYW1lLCBmdW5jdGlvbiAoaXNFeGlzdCkgewogICAgICAgIHJlc29sdmUoQm9vbGVhbihpc0V4aXN0KSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBzZW5kVXNlckVudGVyOiBmdW5jdGlvbiBzZW5kVXNlckVudGVyKGNvbnRleHQpIHsKICAgIHZhciBuaWNrTmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJuaWNrTmFtZSIpOwogICAgc29ja2V0LmVtaXQoImVudGVyIiwgbmlja05hbWUpOwogICAgY29udGV4dC5jb21taXQoInVwZGF0ZU5pY2tuYW1lIiwgbmlja05hbWUpOwogIH0sCiAgc2VuZEdhbWVTdGFydDogZnVuY3Rpb24gc2VuZEdhbWVTdGFydChjb250ZXh0LCBhbnN3ZXIpIHsKICAgIHNvY2tldC5lbWl0KCdzdGFydF9nYW1lJywgYW5zd2VyKTsKICB9LAogIHNlbmRHYW1lU3RvcDogZnVuY3Rpb24gc2VuZEdhbWVTdG9wKGNvbnRleHQsIGFuc3dlcikgewogICAgc29ja2V0LmVtaXQoJ3N0b3BfZ2FtZScpOwogIH0sCiAgc2VuZERyYXdOZXdMaW5lOiBmdW5jdGlvbiBzZW5kRHJhd05ld0xpbmUoY29udGV4dCwgbmV3bGluZSkgewogICAgc29ja2V0LmVtaXQoJ25ld19saW5lJywgbmV3bGluZSk7CiAgfSwKICBzZW5kVXBkYXRlTGFzdExpbmU6IGZ1bmN0aW9uIHNlbmRVcGRhdGVMYXN0TGluZShjb250ZXh0LCBsYXN0bGluZSkgewogICAgc29ja2V0LmVtaXQoJ3VwZGF0ZV9saW5lJywgbGFzdGxpbmUpOwogIH0KfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNHYW1lU3RhcnRlZDogZnVuY3Rpb24gaXNHYW1lU3RhcnRlZCgpIHsKICAgIHJldHVybiAhIXN0YXRlLmhvbGRlcjsKICB9LAogIGlzR2FtZUhvbGRlcjogZnVuY3Rpb24gaXNHYW1lSG9sZGVyKCkgewogICAgcmV0dXJuIHN0YXRlLmhvbGRlciA9PT0gc3RhdGUubmlja05hbWU7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9KTs="},{"version":3,"sources":["C:/myfile/project/draw-and-guess/draw-and-guess-template/src/store/index.js"],"names":["Vue","Vuex","socket","use","state","connected","nickName","allPlayer","holder","lines","mutations","updateNickname","updateallPlayer","players","updateHolder","console","log","updateLines","dealUserEnter","every","name","push","updateServerStatus","ServerStatus","drawNewLine","newline","updateLastLine","lastline","last_now","length","points","actions","checkNameExist","context","Promise","resolve","reject","emit","isExist","Boolean","sendUserEnter","localStorage","getItem","commit","sendGameStart","answer","sendGameStop","sendDrawNewLine","sendUpdateLastLine","getters","isGameStarted","isGameHolder","Store"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport socket from '@/socket/index'\n\nVue.use(Vuex)\n\nconst state = {\n  connected:false,\n  nickName: '',\n  allPlayer: [],\n  holder: '',\n  lines: []\n}\n\nconst mutations = {\n  updateNickname(state, nickName) {\n    state.nickName = nickName || ''\n  }, \n  updateallPlayer(state, players) {\n    state.allPlayer = players || []\n  }, \n  updateHolder(state, holder) {\n    state.holder = holder || ''\n    console.log(holder)\n  }, \n  updateLines(state, lines) {\n    state.lines = lines || []\n  },\n  dealUserEnter(state,nickName){\n    const allPlayer = state.allPlayer\n    allPlayer.every(name=>name!==nickName) &&\n      state.allPlayer.push(nickName)\n    // allPlayer.includes(nickName)||state.allPlayer.push(nickName)\n  },\n  updateServerStatus(state,ServerStatus){\n    state.connected = ServerStatus\n  },\n  drawNewLine(state,newline){\n    state.lines.push(newline)\n  },\n  updateLastLine(state,lastline){\n    let last_now = state.lines[state.lines.length - 1]\n    console.log(state.lines)\n    last_now.points = lastline.points\n  }\n}\n\nconst actions = {\n  checkNameExist(context, nickName) {\n    return new Promise((resolve, reject) => {\n      socket.emit(\"check_user_exist\", nickName, (isExist) => {\n        resolve(Boolean(isExist))\n      })\n    })\n  },\n  sendUserEnter(context) {\n    const nickName = localStorage.getItem(\"nickName\")\n    socket.emit(\"enter\", nickName)\n    context.commit(\"updateNickname\", nickName)\n  },\n  sendGameStart(context,answer){\n    socket.emit('start_game',answer)\n  },\n  sendGameStop(context,answer){\n    socket.emit('stop_game')\n  },\n  sendDrawNewLine(context,newline){\n    socket.emit('new_line',newline)\n  },\n  sendUpdateLastLine(context,lastline){\n    socket.emit('update_line',lastline)\n  }\n}\n\nconst getters = {\n  isGameStarted(){\n    return !!state.holder\n  },\n  isGameHolder(){\n    return state.holder === state.nickName\n  },\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions,\n  getters\n})\n"]}]}